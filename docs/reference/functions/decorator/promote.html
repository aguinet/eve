<!--
  **EVE** - Expressive Vector Engine
  Copyright : EVE Contributors & Maintainers
  SPDX-License-Identifier: MIT
 -->
<meta charset="utf-8" lang="en">
                       **Expressive Vector Engine**
                           `eve::pedantic`
<br>

  (insert ../../../crumbs.html here)

Synopsis
====================================================================================================
**Required header:** <script type="preformatted">`#include <eve/function/promote.hpp>`</script>

<script type="preformatted">
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ c++
namespace eve
{
  inline constexpr /*unspecified*/ promote = /*unspecified*/;
}
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
</script>
Function object representing the promote decorator.

Member functions
====================================================================================================
<script type="preformatted">
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ c++
template<callable C>
auto operator()( C callable) const noexcept;
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
</script>
Performs the operation defined by the callable [element-wise](../../../glossary.html#element-wise_)
on promoted arguments.


Parameters
----------------------------------------------------------------------------------------------------
`x`
:   an arithmetic callable

Return value
----------------------------------------------------------------------------------------------------
<span class="smallskip"></span>
The callable is supposed to be an arithmetic call.
promote makes the callable automatically try to promote all its remaining parameters to a type
whose elements are convertible to the first type element before call, but insist on this being
an upgrade operation. It does not compile ifthe first type has an element type strictly narrowing
the common compatible type of the other parameters. If sucessfull, it returns a value of the promoted
type.


<script type="preformatted">
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ c++
auto r = promote(c)(x0, x1, ..., xn);
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
</script>

is semantically equivalent to:

<script type="preformatted">
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ c++
using r_t = common_compatible_t<X1,...>
using elt_t = element_type_t<T0>;

if constexpr( requires (sizeof(element_type_t<r_t>) <= sizeof(element_type_t&ltX0>)) )
{
  return f(arg0, convert(args, as_<elt_t>())...);
}

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
</script>

  (insert ../../src/promote.src.html here)

  (insert ../../out/promote.out.html here)

See Also
====================================================================================================
[eve::narrow](./narrow.html)

<!-- End of Document -->
<link rel="stylesheet" href="../../../eve.css">
<!-- Markdeep: -->
<script>markdeepOptions={tocStyle:'none'};</script>
<script src="../../../markdeep.min.js"></script>
<script src="https://casual-effects.com/markdeep/latest/markdeep.min.js?"></script>
